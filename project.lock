convert-sec_filings:
  cmd: python -m spacy run convert-sec_filings
  script:
    - python -m scripts.convert_to_spans assets/sec_filings-train.iob corpus/spancat/
      --spans-key sc --converter auto --train-size 0.8 --seed 42 --shuffle
    - python -m scripts.convert_to_spans assets/sec_filings-test.iob corpus/spancat/
      --spans-key sc --converter auto
    - python -m scripts.convert_to_spans assets/sec_filings-train.iob corpus/ner/
      --use-ents --converter auto --train-size 0.8 --seed 42 --shuffle
    - python -m scripts.convert_to_spans assets/sec_filings-test.iob corpus/ner/ --use-ents
      --spans-key sc --converter auto
  deps:
    - path: assets/sec_filings-train.iob
      md5: d224f6c7f55626a2e9d249fb06e5227b
    - path: assets/sec_filings-test.iob
      md5: bbdac162ceaeb500a900def34515847c
  outs:
    - path: corpus/spancat/sec_filings-train.spacy
      md5: 20153237ebc700014963f9b0bd8ee6ce
    - path: corpus/spancat/sec_filings-train-dev.spacy
      md5: 09d506663cdbb59ccb74787b95ca6125
    - path: corpus/spancat/sec_filings-test.spacy
      md5: 575318b3f4f3be891744ed694283d479
    - path: corpus/ner/sec_filings-train-dev.spacy
      md5: c51ce48b46d25fa2c1d98b8e8fef32e3
    - path: corpus/ner/sec_filings-test.spacy
      md5: 3e6bb5306f2071443668aac315b54191
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
convert-wnut17:
  cmd: python -m spacy run convert-wnut17
  script:
    - python -m scripts.convert_to_spans assets/wnut17-train.iob corpus/ --spans-key
      sc --converter auto
    - python -m scripts.convert_to_spans assets/wnut17-dev.iob corpus/ --spans-key
      sc --converter auto
    - python -m scripts.convert_to_spans assets/wnut17-test.iob corpus/ --spans-key
      sc --converter auto
  deps:
    - path: assets/wnut17-train.iob
      md5: ff599150146384cedb2e22a4afa89209
    - path: assets/wnut17-dev.iob
      md5: 17054f3b2617398b4742a22da44280f5
    - path: assets/wnut17-test.iob
      md5: a4909d46d5c173151c20599a2193f36c
  outs:
    - path: corpus/wnut17-train.spacy
      md5: dd45fa4bc875081618476cc6344c86de
    - path: corpus/wnut17-dev.spacy
      md5: cbf5e7a2eb0a6bf61ba93106df3ac927
    - path: corpus/wnut17-test.spacy
      md5: b304af219b4289a3e9f4885f70e6390f
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
convert-btc:
  cmd: python -m spacy run convert-btc
  script:
    - python -m scripts.convert_to_spans assets/btc-general.iob corpus/ --spans-key
      sc --converter auto
  deps:
    - path: assets/btc-general.iob
      md5: ef21889b4d409e314ae94f832dafeff2
  outs:
    - path: corpus/btc-general.spacy
      md5: 7259410fc6b7fa91ea2c8f9306c5f24e
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
convert-anem:
  cmd: python -m spacy run convert-anem
  script:
    - python -m scripts.convert_to_spans assets/anem-train.iob corpus/spancat/ --spans-key
      sc --converter auto --train-size 0.8 --seed 42 --shuffle
    - python -m scripts.convert_to_spans assets/anem-test.iob corpus/spancat/ --spans-key
      sc --converter auto
    - python -m scripts.convert_to_spans assets/anem-train.iob corpus/ner/ --use-ents
      --converter auto --train-size 0.8 --seed 42 --shuffle
    - python -m scripts.convert_to_spans assets/anem-test.iob corpus/ner/ --use-ents
      --converter auto
  deps:
    - path: assets/anem-train.iob
      md5: 2bc9e87a95abb86757804cd5a840a76b
    - path: assets/anem-test.iob
      md5: c643213318b859e6f7a6f0aee423a2ed
  outs:
    - path: corpus/ner/anem-train.spacy
      md5: d41b86efa7ab39e09d793090a54a388b
    - path: corpus/ner/anem-train-dev.spacy
      md5: cba41ba4b7c73152be9a6c7b541704e7
    - path: corpus/ner/anem-test.spacy
      md5: 6033af455797a6f46f3a8564138d254c
    - path: corpus/spancat/anem-train.spacy
      md5: 08564f041b2acdfc766b008fcb129c73
    - path: corpus/spancat/anem-train-dev.spacy
      md5: f666ed6ccfe2b66737efa458135931f2
    - path: corpus/spancat/anem-test.spacy
      md5: e15dfa778af4ba4103442668738aec1e
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
convert-wikineural:
  cmd: python -m spacy run convert-wikineural
  script:
    - python -m scripts.remove_indices assets/de-wikineural-train.iob
    - python -m scripts.convert_to_spans assets/de-wikineural-train.iob corpus/ --spans-key
      sc --converter auto
    - python -m scripts.remove_indices assets/de-wikineural-dev.iob
    - python -m scripts.convert_to_spans assets/de-wikineural-dev.iob corpus/ --spans-key
      sc --converter auto
    - python -m scripts.remove_indices assets/en-wikineural-train.iob
    - python -m scripts.convert_to_spans assets/en-wikineural-train.iob corpus/ --spans-key
      sc --converter auto
    - python -m scripts.remove_indices assets/en-wikineural-dev.iob
    - python -m scripts.convert_to_spans assets/en-wikineural-dev.iob corpus/ --spans-key
      sc --converter auto
    - python -m scripts.remove_indices assets/en-wikineural-test.iob
    - python -m scripts.convert_to_spans assets/en-wikineural-test.iob corpus/ --spans-key
      sc --converter auto
    - python -m scripts.remove_indices assets/es-wikineural-train.iob
    - python -m scripts.convert_to_spans assets/es-wikineural-train.iob corpus/ --spans-key
      sc --converter auto
    - python -m scripts.remove_indices assets/es-wikineural-dev.iob
    - python -m scripts.convert_to_spans assets/es-wikineural-dev.iob corpus/ --spans-key
      sc --converter auto
    - python -m scripts.remove_indices assets/es-wikineural-test.iob
    - python -m scripts.convert_to_spans assets/es-wikineural-test.iob corpus/ --spans-key
      sc --converter auto
    - python -m scripts.remove_indices assets/nl-wikineural-train.iob
    - python -m scripts.convert_to_spans assets/nl-wikineural-train.iob corpus/ --spans-key
      sc --converter auto
    - python -m scripts.remove_indices assets/nl-wikineural-dev.iob
    - python -m scripts.convert_to_spans assets/nl-wikineural-dev.iob corpus/ --spans-key
      sc --converter auto
    - python -m scripts.remove_indices assets/nl-wikineural-test.iob
    - python -m scripts.convert_to_spans assets/nl-wikineural-test.iob corpus/ --spans-key
      sc --converter auto
  deps:
    - path: assets/de-wikineural-train.iob
      md5: c8775e662d925ded5279efacea5ede63
    - path: assets/de-wikineural-dev.iob
      md5: 3162f80129bff1c1f024fadff2474acc
    - path: assets/en-wikineural-train.iob
      md5: b3250ee3e135812baf2b08b508ccb34f
    - path: assets/en-wikineural-dev.iob
      md5: 959ab97f19e05581400c318508835dce
    - path: assets/en-wikineural-test.iob
      md5: c6fb16c5cb900d8d738378753a296cd7
    - path: assets/es-wikineural-train.iob
      md5: ddbb3c2c94813b493d03399ece1e01a9
    - path: assets/es-wikineural-dev.iob
      md5: 51811fad5020e2dd03e86aba0355b631
    - path: assets/es-wikineural-test.iob
      md5: 8032965742f73942f351fc29d109bc82
    - path: assets/nl-wikineural-train.iob
      md5: 41ccd33917288beb4f70cc76130b27fd
    - path: assets/nl-wikineural-dev.iob
      md5: cda255c9793c0032e7fd1b22470bec25
    - path: assets/nl-wikineural-test.iob
      md5: 8e74b4660d91d4eda9db2bc8bca67256
  outs:
    - path: corpus/de-wikineural-train.spacy
      md5: cda1c00e307c09687ae4201a445c3395
    - path: corpus/de-wikineural-dev.spacy
      md5: 2ef1e503029c7cecde57e4f5c58c369e
    - path: corpus/en-wikineural-train.spacy
      md5: 311cd5d2c857cf5f6c477c4c3ffbd8d6
    - path: corpus/en-wikineural-dev.spacy
      md5: 55c333bca6e29c44ca7279e742f07e99
    - path: corpus/en-wikineural-test.spacy
      md5: 5c9ec598859ce7175cb6e5f77116e499
    - path: corpus/es-wikineural-train.spacy
      md5: 5fc9c04be24ec98dc1d045f600463bce
    - path: corpus/es-wikineural-dev.spacy
      md5: fa4e4d8f768e520cc2bfb0e2016d91c0
    - path: corpus/es-wikineural-test.spacy
      md5: 8ec83ba37c71811554170cbb6353a17e
    - path: corpus/nl-wikineural-train.spacy
      md5: fe31357dca3eb8d55590d65cbb1e8fde
    - path: corpus/nl-wikineural-dev.spacy
      md5: 36f7edaab7980ecef75ac02affa25cd3
    - path: corpus/nl-wikineural-test.spacy
      md5: bcb2fb22ed157144d1b6e5e33745462d
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
convert-wikigold:
  cmd: python -m spacy run convert-wikigold
  script:
    - python -m scripts.convert_to_spans assets/wikigold.iob corpus/ --spans-key sc
      --converter auto
  deps:
    - path: assets/wikigold.iob
      md5: 0c1a4f91b9ea70f84ed43f4ff62fdfd5
  outs:
    - path: corpus/wikigold.spacy
      md5: d1f22fdeca30798a7861bff0886c7c2f
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
train-sec_filings:
  cmd: python -m spacy run train-sec_filings
  script:
    - python -m spacy train configs/ner.cfg --output training/sec_filings/ner/ --paths.train
      corpus/ner/sec_filings-train.spacy --paths.dev corpus/ner/sec_filings-train-dev.spacy
      --gpu-id 0
    - python -m spacy train configs/spancat.cfg --output training/sec_filings/spancat/
      --paths.train corpus/spancat/sec_filings-train.spacy --paths.dev corpus/spancat/sec_filings-train-dev.spacy
      --gpu-id 0
  deps:
    - path: corpus/spancat/sec_filings-train.spacy
      md5: 20153237ebc700014963f9b0bd8ee6ce
    - path: corpus/spancat/sec_filings-train-dev.spacy
      md5: 09d506663cdbb59ccb74787b95ca6125
    - path: corpus/spancat/sec_filings-test.spacy
      md5: 575318b3f4f3be891744ed694283d479
    - path: corpus/ner/sec_filings-train-dev.spacy
      md5: c51ce48b46d25fa2c1d98b8e8fef32e3
    - path: corpus/ner/sec_filings-test.spacy
      md5: 3e6bb5306f2071443668aac315b54191
  outs:
    - path: training/sec_filings/ner/model-best
      md5: d3ba5c997d0890b15b5873cec9da5e00
    - path: training/sec_filings/spancat/model-best
      md5: b540a1d86b7de58f4a0459e53d7f9b8f
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
evaluate-sec_filings:
  cmd: python -m spacy run evaluate-sec_filings
  script:
    - mkdir -p metrics/sec_filings/spancat
    - python -m spacy evaluate training/sec_filings/spancat/model-best corpus/spancat/sec_filings-test.spacy
      --output metrics/sec_filings/spancat/scores.json
    - mkdir -p metrics/sec_filings/ner
    - python -m spacy evaluate training/sec_filings/ner/model-best corpus/ner/sec_filings-test.spacy
      --output metrics/sec_filings/ner/scores.json
  deps:
    - path: training/sec_filings/ner/model-best
      md5: d3ba5c997d0890b15b5873cec9da5e00
    - path: training/sec_filings/spancat/model-best
      md5: b540a1d86b7de58f4a0459e53d7f9b8f
    - path: corpus/ner/sec_filings-test.spacy
      md5: 3e6bb5306f2071443668aac315b54191
    - path: corpus/spancat/sec_filings-test.spacy
      md5: 575318b3f4f3be891744ed694283d479
  outs:
    - path: metrics/sec_filings/ner/scores.json
      md5: 79747710cba156913c09c83b552a1fb8
    - path: metrics/sec_filings/spancat/scores.json
      md5: 827763662e7f408752468b92f1989748
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
