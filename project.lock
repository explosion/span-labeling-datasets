convert-sec_filings:
  cmd: python -m spacy run convert-sec_filings
  script:
    - python -m scripts.convert_to_spans assets/sec_filings-train.iob corpus/spancat/
      --spans-key sc --converter auto --train-size 0.8 --seed 42 --shuffle
    - python -m scripts.convert_to_spans assets/sec_filings-test.iob corpus/spancat/
      --spans-key sc --converter auto
    - python -m scripts.convert_to_spans assets/sec_filings-train.iob corpus/ner/
      --use-ents --converter auto --train-size 0.8 --seed 42 --shuffle
    - python -m scripts.convert_to_spans assets/sec_filings-test.iob corpus/ner/ --use-ents
      --spans-key sc --converter auto
  deps:
    - path: assets/sec_filings-train.iob
      md5: d224f6c7f55626a2e9d249fb06e5227b
    - path: assets/sec_filings-test.iob
      md5: bbdac162ceaeb500a900def34515847c
  outs:
    - path: corpus/spancat/sec_filings-train.spacy
      md5: 20153237ebc700014963f9b0bd8ee6ce
    - path: corpus/spancat/sec_filings-train-dev.spacy
      md5: 09d506663cdbb59ccb74787b95ca6125
    - path: corpus/spancat/sec_filings-test.spacy
      md5: 575318b3f4f3be891744ed694283d479
    - path: corpus/ner/sec_filings-train-dev.spacy
      md5: c51ce48b46d25fa2c1d98b8e8fef32e3
    - path: corpus/ner/sec_filings-test.spacy
      md5: 3e6bb5306f2071443668aac315b54191
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
convert-wnut17:
  cmd: python -m spacy run convert-wnut17
  script:
    - python -m scripts.convert_to_spans assets/wnut17-train.iob corpus/spancat/ --spans-key
      sc
    - python -m scripts.convert_to_spans assets/wnut17-dev.iob corpus/spancat/ --spans-key
      sc
    - python -m scripts.convert_to_spans assets/wnut17-test.iob corpus/spancat/ --spans-key
      sc
    - python -m scripts.convert_to_spans assets/wnut17-train.iob corpus/ner/ --use-ents
    - python -m scripts.convert_to_spans assets/wnut17-dev.iob corpus/ner/ --use-ents
    - python -m scripts.convert_to_spans assets/wnut17-test.iob corpus/ner/ --use-ents
  deps:
    - path: assets/wnut17-train.iob
      md5: ff599150146384cedb2e22a4afa89209
    - path: assets/wnut17-dev.iob
      md5: 17054f3b2617398b4742a22da44280f5
    - path: assets/wnut17-test.iob
      md5: a4909d46d5c173151c20599a2193f36c
  outs:
    - path: corpus/ner/wnut17-train.spacy
      md5: a19d2e9c5d8339bf76703624bc209362
    - path: corpus/ner/wnut17-dev.spacy
      md5: 7770eca0c2d979f0d7096d8a00fb6fb9
    - path: corpus/ner/wnut17-test.spacy
      md5: 1ef6584f7606628871abab21f3ec7d6b
    - path: corpus/spancat/wnut17-train.spacy
      md5: dd45fa4bc875081618476cc6344c86de
    - path: corpus/spancat/wnut17-dev.spacy
      md5: cbf5e7a2eb0a6bf61ba93106df3ac927
    - path: corpus/spancat/wnut17-test.spacy
      md5: b304af219b4289a3e9f4885f70e6390f
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
convert-btc:
  cmd: python -m spacy run convert-btc
  script:
    - python -m scripts.convert_to_spans assets/btc-general.iob corpus/ --spans-key
      sc --converter auto
  deps:
    - path: assets/btc-general.iob
      md5: ef21889b4d409e314ae94f832dafeff2
  outs:
    - path: corpus/btc-general.spacy
      md5: 7259410fc6b7fa91ea2c8f9306c5f24e
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
convert-anem:
  cmd: python -m spacy run convert-anem
  script:
    - python -m scripts.convert_to_spans assets/anem-train.iob corpus/spancat/ --spans-key
      sc --converter auto --train-size 0.8 --seed 42 --shuffle
    - python -m scripts.convert_to_spans assets/anem-test.iob corpus/spancat/ --spans-key
      sc --converter auto
    - python -m scripts.convert_to_spans assets/anem-train.iob corpus/ner/ --use-ents
      --converter auto --train-size 0.8 --seed 42 --shuffle
    - python -m scripts.convert_to_spans assets/anem-test.iob corpus/ner/ --use-ents
      --converter auto
  deps:
    - path: assets/anem-train.iob
      md5: 2bc9e87a95abb86757804cd5a840a76b
    - path: assets/anem-test.iob
      md5: c643213318b859e6f7a6f0aee423a2ed
  outs:
    - path: corpus/ner/anem-train.spacy
      md5: d41b86efa7ab39e09d793090a54a388b
    - path: corpus/ner/anem-train-dev.spacy
      md5: cba41ba4b7c73152be9a6c7b541704e7
    - path: corpus/ner/anem-test.spacy
      md5: 6033af455797a6f46f3a8564138d254c
    - path: corpus/spancat/anem-train.spacy
      md5: 08564f041b2acdfc766b008fcb129c73
    - path: corpus/spancat/anem-train-dev.spacy
      md5: f666ed6ccfe2b66737efa458135931f2
    - path: corpus/spancat/anem-test.spacy
      md5: e15dfa778af4ba4103442668738aec1e
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
convert-wikineural:
  cmd: python -m spacy run convert-wikineural
  script:
    - python -m scripts.remove_indices assets/de-wikineural-train.iob
    - python -m scripts.convert_to_spans assets/de-wikineural-train.iob corpus/ --spans-key
      sc --converter auto
    - python -m scripts.remove_indices assets/de-wikineural-dev.iob
    - python -m scripts.convert_to_spans assets/de-wikineural-dev.iob corpus/ --spans-key
      sc --converter auto
    - python -m scripts.remove_indices assets/en-wikineural-train.iob
    - python -m scripts.convert_to_spans assets/en-wikineural-train.iob corpus/ --spans-key
      sc --converter auto
    - python -m scripts.remove_indices assets/en-wikineural-dev.iob
    - python -m scripts.convert_to_spans assets/en-wikineural-dev.iob corpus/ --spans-key
      sc --converter auto
    - python -m scripts.remove_indices assets/en-wikineural-test.iob
    - python -m scripts.convert_to_spans assets/en-wikineural-test.iob corpus/ --spans-key
      sc --converter auto
    - python -m scripts.remove_indices assets/es-wikineural-train.iob
    - python -m scripts.convert_to_spans assets/es-wikineural-train.iob corpus/ --spans-key
      sc --converter auto
    - python -m scripts.remove_indices assets/es-wikineural-dev.iob
    - python -m scripts.convert_to_spans assets/es-wikineural-dev.iob corpus/ --spans-key
      sc --converter auto
    - python -m scripts.remove_indices assets/es-wikineural-test.iob
    - python -m scripts.convert_to_spans assets/es-wikineural-test.iob corpus/ --spans-key
      sc --converter auto
    - python -m scripts.remove_indices assets/nl-wikineural-train.iob
    - python -m scripts.convert_to_spans assets/nl-wikineural-train.iob corpus/ --spans-key
      sc --converter auto
    - python -m scripts.remove_indices assets/nl-wikineural-dev.iob
    - python -m scripts.convert_to_spans assets/nl-wikineural-dev.iob corpus/ --spans-key
      sc --converter auto
    - python -m scripts.remove_indices assets/nl-wikineural-test.iob
    - python -m scripts.convert_to_spans assets/nl-wikineural-test.iob corpus/ --spans-key
      sc --converter auto
  deps:
    - path: assets/de-wikineural-train.iob
      md5: c8775e662d925ded5279efacea5ede63
    - path: assets/de-wikineural-dev.iob
      md5: 3162f80129bff1c1f024fadff2474acc
    - path: assets/en-wikineural-train.iob
      md5: b3250ee3e135812baf2b08b508ccb34f
    - path: assets/en-wikineural-dev.iob
      md5: 959ab97f19e05581400c318508835dce
    - path: assets/en-wikineural-test.iob
      md5: c6fb16c5cb900d8d738378753a296cd7
    - path: assets/es-wikineural-train.iob
      md5: ddbb3c2c94813b493d03399ece1e01a9
    - path: assets/es-wikineural-dev.iob
      md5: 51811fad5020e2dd03e86aba0355b631
    - path: assets/es-wikineural-test.iob
      md5: 8032965742f73942f351fc29d109bc82
    - path: assets/nl-wikineural-train.iob
      md5: 41ccd33917288beb4f70cc76130b27fd
    - path: assets/nl-wikineural-dev.iob
      md5: cda255c9793c0032e7fd1b22470bec25
    - path: assets/nl-wikineural-test.iob
      md5: 8e74b4660d91d4eda9db2bc8bca67256
  outs:
    - path: corpus/de-wikineural-train.spacy
      md5: cda1c00e307c09687ae4201a445c3395
    - path: corpus/de-wikineural-dev.spacy
      md5: 2ef1e503029c7cecde57e4f5c58c369e
    - path: corpus/en-wikineural-train.spacy
      md5: 311cd5d2c857cf5f6c477c4c3ffbd8d6
    - path: corpus/en-wikineural-dev.spacy
      md5: 55c333bca6e29c44ca7279e742f07e99
    - path: corpus/en-wikineural-test.spacy
      md5: 5c9ec598859ce7175cb6e5f77116e499
    - path: corpus/es-wikineural-train.spacy
      md5: 5fc9c04be24ec98dc1d045f600463bce
    - path: corpus/es-wikineural-dev.spacy
      md5: fa4e4d8f768e520cc2bfb0e2016d91c0
    - path: corpus/es-wikineural-test.spacy
      md5: 8ec83ba37c71811554170cbb6353a17e
    - path: corpus/nl-wikineural-train.spacy
      md5: fe31357dca3eb8d55590d65cbb1e8fde
    - path: corpus/nl-wikineural-dev.spacy
      md5: 36f7edaab7980ecef75ac02affa25cd3
    - path: corpus/nl-wikineural-test.spacy
      md5: bcb2fb22ed157144d1b6e5e33745462d
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
convert-wikigold:
  cmd: python -m spacy run convert-wikigold
  script:
    - python -m scripts.convert_to_spans assets/wikigold.iob corpus/ --spans-key sc
      --converter auto
  deps:
    - path: assets/wikigold.iob
      md5: 0c1a4f91b9ea70f84ed43f4ff62fdfd5
  outs:
    - path: corpus/wikigold.spacy
      md5: d1f22fdeca30798a7861bff0886c7c2f
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
train-sec_filings:
  cmd: python -m spacy run train-sec_filings
  script:
    - python -m spacy train configs/ner.cfg --output training/sec_filings/ner/ --paths.train
      corpus/ner/sec_filings-train.spacy --paths.dev corpus/ner/sec_filings-train-dev.spacy
      --gpu-id 0
    - python -m spacy train configs/spancat.cfg --output training/sec_filings/spancat/
      --paths.train corpus/spancat/sec_filings-train.spacy --paths.dev corpus/spancat/sec_filings-train-dev.spacy
      --gpu-id 0
  deps:
    - path: corpus/spancat/sec_filings-train.spacy
      md5: 20153237ebc700014963f9b0bd8ee6ce
    - path: corpus/spancat/sec_filings-train-dev.spacy
      md5: 09d506663cdbb59ccb74787b95ca6125
    - path: corpus/spancat/sec_filings-test.spacy
      md5: 575318b3f4f3be891744ed694283d479
    - path: corpus/ner/sec_filings-train-dev.spacy
      md5: c51ce48b46d25fa2c1d98b8e8fef32e3
    - path: corpus/ner/sec_filings-test.spacy
      md5: 3e6bb5306f2071443668aac315b54191
  outs:
    - path: training/sec_filings/ner/model-best
      md5: d3ba5c997d0890b15b5873cec9da5e00
    - path: training/sec_filings/spancat/model-best
      md5: b540a1d86b7de58f4a0459e53d7f9b8f
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
evaluate-sec_filings:
  cmd: python -m spacy run evaluate-sec_filings
  script:
    - mkdir -p metrics/sec_filings/spancat
    - python -m spacy evaluate training/sec_filings/spancat/model-best corpus/spancat/sec_filings-test.spacy
      --output metrics/sec_filings/spancat/scores.json
    - mkdir -p metrics/sec_filings/ner
    - python -m spacy evaluate training/sec_filings/ner/model-best corpus/ner/sec_filings-test.spacy
      --output metrics/sec_filings/ner/scores.json
  deps:
    - path: training/sec_filings/ner/model-best
      md5: d3ba5c997d0890b15b5873cec9da5e00
    - path: training/sec_filings/spancat/model-best
      md5: b540a1d86b7de58f4a0459e53d7f9b8f
    - path: corpus/ner/sec_filings-test.spacy
      md5: 3e6bb5306f2071443668aac315b54191
    - path: corpus/spancat/sec_filings-test.spacy
      md5: 575318b3f4f3be891744ed694283d479
  outs:
    - path: metrics/sec_filings/ner/scores.json
      md5: 79747710cba156913c09c83b552a1fb8
    - path: metrics/sec_filings/spancat/scores.json
      md5: 827763662e7f408752468b92f1989748
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
train-wnut17:
  cmd: python -m spacy run train-wnut17
  script:
    - python -m spacy train configs/ner.cfg --output training/wnut17/ner/ --paths.train
      corpus/ner/wnut17-train.spacy --paths.dev corpus/ner/wnut17-dev.spacy --gpu-id
      0
    - python -m spacy train configs/spancat.cfg --output training/wnut17/spancat/
      --paths.train corpus/spancat/wnut17-train.spacy --paths.dev corpus/spancat/wnut17-dev.spacy
      --gpu-id 0
  deps:
    - path: corpus/spancat/wnut17-train.spacy
      md5: dd45fa4bc875081618476cc6344c86de
    - path: corpus/spancat/wnut17-dev.spacy
      md5: cbf5e7a2eb0a6bf61ba93106df3ac927
    - path: corpus/spancat/wnut17-test.spacy
      md5: b304af219b4289a3e9f4885f70e6390f
    - path: corpus/ner/wnut17-train.spacy
      md5: a19d2e9c5d8339bf76703624bc209362
    - path: corpus/ner/wnut17-dev.spacy
      md5: 7770eca0c2d979f0d7096d8a00fb6fb9
    - path: corpus/ner/wnut17-test.spacy
      md5: 1ef6584f7606628871abab21f3ec7d6b
  outs:
    - path: training/wnut17/ner/model-best
      md5: 4957c3024f9b528386b47752136500dc
    - path: training/wnut17/spancat/model-best
      md5: 451ec61d32c11d02e06aed86ad016c62
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
evaluate-wnut17:
  cmd: python -m spacy run evaluate-wnut17
  script:
    - mkdir -p metrics/wnut17/spancat
    - python -m spacy evaluate training/wnut17/spancat/model-best corpus/spancat/wnut17-test.spacy
      --output metrics/wnut17/spancat/scores.json
    - mkdir -p metrics/wnut17/ner
    - python -m spacy evaluate training/wnut17/ner/model-best corpus/ner/wnut17-test.spacy
      --output metrics/wnut17/ner/scores.json
  deps:
    - path: training/wnut17/ner/model-best
      md5: 4957c3024f9b528386b47752136500dc
    - path: training/wnut17/spancat/model-best
      md5: 451ec61d32c11d02e06aed86ad016c62
    - path: corpus/ner/wnut17-test.spacy
      md5: 1ef6584f7606628871abab21f3ec7d6b
    - path: corpus/spancat/wnut17-test.spacy
      md5: b304af219b4289a3e9f4885f70e6390f
  outs:
    - path: metrics/wnut17/ner/scores.json
      md5: 0ce02e24ebfc1e501c64e7f648790b02
    - path: metrics/wnut17/spancat/scores.json
      md5: b275938669c8436569643ef3254e896f
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
clean-wikineural:
  cmd: python -m spacy run clean-wikineural
  script:
    - python -m scripts.remove_indices assets/de-wikineural-train.iob
    - python -m scripts.remove_indices assets/de-wikineural-dev.iob
    - python -m scripts.remove_indices assets/en-wikineural-train.iob
    - python -m scripts.remove_indices assets/en-wikineural-dev.iob
    - python -m scripts.remove_indices assets/en-wikineural-test.iob
    - python -m scripts.remove_indices assets/es-wikineural-train.iob
    - python -m scripts.remove_indices assets/es-wikineural-dev.iob
    - python -m scripts.remove_indices assets/es-wikineural-test.iob
    - python -m scripts.remove_indices assets/nl-wikineural-train.iob
    - python -m scripts.remove_indices assets/nl-wikineural-dev.iob
    - python -m scripts.remove_indices assets/nl-wikineural-test.iob
  deps:
    - path: assets/de-wikineural-train.iob
      md5: c8775e662d925ded5279efacea5ede63
    - path: assets/de-wikineural-dev.iob
      md5: 3162f80129bff1c1f024fadff2474acc
    - path: assets/en-wikineural-train.iob
      md5: b3250ee3e135812baf2b08b508ccb34f
    - path: assets/en-wikineural-dev.iob
      md5: 959ab97f19e05581400c318508835dce
    - path: assets/en-wikineural-test.iob
      md5: c6fb16c5cb900d8d738378753a296cd7
    - path: assets/es-wikineural-train.iob
      md5: ddbb3c2c94813b493d03399ece1e01a9
    - path: assets/es-wikineural-dev.iob
      md5: 51811fad5020e2dd03e86aba0355b631
    - path: assets/es-wikineural-test.iob
      md5: 8032965742f73942f351fc29d109bc82
    - path: assets/nl-wikineural-train.iob
      md5: 41ccd33917288beb4f70cc76130b27fd
    - path: assets/nl-wikineural-dev.iob
      md5: cda255c9793c0032e7fd1b22470bec25
    - path: assets/nl-wikineural-test.iob
      md5: 8e74b4660d91d4eda9db2bc8bca67256
  outs:
    - path: assets/de-wikineural-train.iob
      md5: c8775e662d925ded5279efacea5ede63
    - path: assets/de-wikineural-dev.iob
      md5: 3162f80129bff1c1f024fadff2474acc
    - path: assets/en-wikineural-train.iob
      md5: b3250ee3e135812baf2b08b508ccb34f
    - path: assets/en-wikineural-dev.iob
      md5: 959ab97f19e05581400c318508835dce
    - path: assets/en-wikineural-test.iob
      md5: c6fb16c5cb900d8d738378753a296cd7
    - path: assets/es-wikineural-train.iob
      md5: ddbb3c2c94813b493d03399ece1e01a9
    - path: assets/es-wikineural-dev.iob
      md5: 51811fad5020e2dd03e86aba0355b631
    - path: assets/es-wikineural-test.iob
      md5: 8032965742f73942f351fc29d109bc82
    - path: assets/nl-wikineural-train.iob
      md5: 41ccd33917288beb4f70cc76130b27fd
    - path: assets/nl-wikineural-dev.iob
      md5: cda255c9793c0032e7fd1b22470bec25
    - path: assets/nl-wikineural-test.iob
      md5: 8e74b4660d91d4eda9db2bc8bca67256
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
convert-wikineural-ents:
  cmd: python -m spacy run convert-wikineural-ents
  script:
    - python -m scripts.convert_to_spans assets/de-wikineural-train.iob corpus/ner/
      --use-ents
    - python -m scripts.convert_to_spans assets/de-wikineural-dev.iob corpus/ner/
      --use-ents
    - python -m scripts.convert_to_spans assets/en-wikineural-train.iob corpus/ner/
      --use-ents
    - python -m scripts.convert_to_spans assets/en-wikineural-dev.iob corpus/ner/
      --use-ents
    - python -m scripts.convert_to_spans assets/en-wikineural-test.iob corpus/ner/
      --use-ents
    - python -m scripts.convert_to_spans assets/es-wikineural-train.iob corpus/ner/
      --use-ents
    - python -m scripts.convert_to_spans assets/es-wikineural-dev.iob corpus/ner/
      --use-ents
    - python -m scripts.convert_to_spans assets/es-wikineural-test.iob corpus/ner/
      --use-ents
    - python -m scripts.convert_to_spans assets/nl-wikineural-train.iob corpus/ner/
      --use-ents
    - python -m scripts.convert_to_spans assets/nl-wikineural-dev.iob corpus/ner/
      --use-ents
    - python -m scripts.convert_to_spans assets/nl-wikineural-test.iob corpus/ner/
      --use-ents
  deps:
    - path: assets/de-wikineural-train.iob
      md5: c8775e662d925ded5279efacea5ede63
    - path: assets/de-wikineural-dev.iob
      md5: 3162f80129bff1c1f024fadff2474acc
    - path: assets/en-wikineural-train.iob
      md5: b3250ee3e135812baf2b08b508ccb34f
    - path: assets/en-wikineural-dev.iob
      md5: 959ab97f19e05581400c318508835dce
    - path: assets/en-wikineural-test.iob
      md5: c6fb16c5cb900d8d738378753a296cd7
    - path: assets/es-wikineural-train.iob
      md5: ddbb3c2c94813b493d03399ece1e01a9
    - path: assets/es-wikineural-dev.iob
      md5: 51811fad5020e2dd03e86aba0355b631
    - path: assets/es-wikineural-test.iob
      md5: 8032965742f73942f351fc29d109bc82
    - path: assets/nl-wikineural-train.iob
      md5: 41ccd33917288beb4f70cc76130b27fd
    - path: assets/nl-wikineural-dev.iob
      md5: cda255c9793c0032e7fd1b22470bec25
    - path: assets/nl-wikineural-test.iob
      md5: 8e74b4660d91d4eda9db2bc8bca67256
  outs:
    - path: corpus/ner/de-wikineural-train.spacy
      md5: f86f0b5062de275abb2abb4173d151d7
    - path: corpus/ner/de-wikineural-dev.spacy
      md5: 834685c40240aadb129347bda3132b90
    - path: corpus/ner/en-wikineural-train.spacy
      md5: b882274872c84db1fafced05a8cd08a4
    - path: corpus/ner/en-wikineural-dev.spacy
      md5: e2280eb88b325121ef7225872ad604e4
    - path: corpus/ner/en-wikineural-test.spacy
      md5: f9891343a1ad0f15fca61c33915226ca
    - path: corpus/ner/es-wikineural-train.spacy
      md5: ed6691b0ad758b05115e94d7f7b5ad3d
    - path: corpus/ner/es-wikineural-dev.spacy
      md5: 987fe21c4f4200a38421128bf8dbf520
    - path: corpus/ner/es-wikineural-test.spacy
      md5: 7076f1926a9ac934da057740999320f7
    - path: corpus/ner/nl-wikineural-train.spacy
      md5: c3768d6be1b79c31198103f866ee893b
    - path: corpus/ner/nl-wikineural-dev.spacy
      md5: 2bb5c8e0e89d58dc46353f7bb4c791e0
    - path: corpus/ner/nl-wikineural-test.spacy
      md5: 9b908ae0e75e3dbd7179ddf8f47ef478
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
convert-wikineural-spans:
  cmd: python -m spacy run convert-wikineural-spans
  script:
    - python -m scripts.convert_to_spans assets/de-wikineural-train.iob corpus/spancat/
      --spans-key sc --converter auto
    - python -m scripts.convert_to_spans assets/de-wikineural-dev.iob corpus/spancat/
      --spans-key sc --converter auto
    - python -m scripts.convert_to_spans assets/en-wikineural-train.iob corpus/spancat/
      --spans-key sc --converter auto
    - python -m scripts.convert_to_spans assets/en-wikineural-dev.iob corpus/spancat/
      --spans-key sc --converter auto
    - python -m scripts.convert_to_spans assets/en-wikineural-test.iob corpus/spancat/
      --spans-key sc --converter auto
    - python -m scripts.convert_to_spans assets/es-wikineural-train.iob corpus/spancat/
      --spans-key sc --converter auto
    - python -m scripts.convert_to_spans assets/es-wikineural-dev.iob corpus/spancat/
      --spans-key sc --converter auto
    - python -m scripts.convert_to_spans assets/es-wikineural-test.iob corpus/spancat/
      --spans-key sc --converter auto
    - python -m scripts.convert_to_spans assets/nl-wikineural-train.iob corpus/spancat/
      --spans-key sc --converter auto
    - python -m scripts.convert_to_spans assets/nl-wikineural-dev.iob corpus/spancat/
      --spans-key sc --converter auto
    - python -m scripts.convert_to_spans assets/nl-wikineural-test.iob corpus/spancat/
      --spans-key sc --converter auto
  deps:
    - path: assets/de-wikineural-train.iob
      md5: c8775e662d925ded5279efacea5ede63
    - path: assets/de-wikineural-dev.iob
      md5: 3162f80129bff1c1f024fadff2474acc
    - path: assets/en-wikineural-train.iob
      md5: b3250ee3e135812baf2b08b508ccb34f
    - path: assets/en-wikineural-dev.iob
      md5: 959ab97f19e05581400c318508835dce
    - path: assets/en-wikineural-test.iob
      md5: c6fb16c5cb900d8d738378753a296cd7
    - path: assets/es-wikineural-train.iob
      md5: ddbb3c2c94813b493d03399ece1e01a9
    - path: assets/es-wikineural-dev.iob
      md5: 51811fad5020e2dd03e86aba0355b631
    - path: assets/es-wikineural-test.iob
      md5: 8032965742f73942f351fc29d109bc82
    - path: assets/nl-wikineural-train.iob
      md5: 41ccd33917288beb4f70cc76130b27fd
    - path: assets/nl-wikineural-dev.iob
      md5: cda255c9793c0032e7fd1b22470bec25
    - path: assets/nl-wikineural-test.iob
      md5: 8e74b4660d91d4eda9db2bc8bca67256
  outs:
    - path: corpus/spancat/de-wikineural-train.spacy
      md5: cda1c00e307c09687ae4201a445c3395
    - path: corpus/spancat/de-wikineural-dev.spacy
      md5: 2ef1e503029c7cecde57e4f5c58c369e
    - path: corpus/spancat/en-wikineural-train.spacy
      md5: 311cd5d2c857cf5f6c477c4c3ffbd8d6
    - path: corpus/spancat/en-wikineural-dev.spacy
      md5: 55c333bca6e29c44ca7279e742f07e99
    - path: corpus/spancat/en-wikineural-test.spacy
      md5: 5c9ec598859ce7175cb6e5f77116e499
    - path: corpus/spancat/es-wikineural-train.spacy
      md5: 5fc9c04be24ec98dc1d045f600463bce
    - path: corpus/spancat/es-wikineural-dev.spacy
      md5: fa4e4d8f768e520cc2bfb0e2016d91c0
    - path: corpus/spancat/es-wikineural-test.spacy
      md5: 8ec83ba37c71811554170cbb6353a17e
    - path: corpus/spancat/nl-wikineural-train.spacy
      md5: fe31357dca3eb8d55590d65cbb1e8fde
    - path: corpus/spancat/nl-wikineural-dev.spacy
      md5: 36f7edaab7980ecef75ac02affa25cd3
    - path: corpus/spancat/nl-wikineural-test.spacy
      md5: bcb2fb22ed157144d1b6e5e33745462d
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
train-wikineural:
  cmd: python -m spacy run train-wikineural
  script:
    - python -m spacy download de_core_news_lg
    - python -m spacy train configs/ner.cfg --output training/de-wikineural/ner/ --paths.vectors
      de_core_news_lg --nlp.lang de --paths.train corpus/ner/de-wikineural-train.spacy
      --paths.dev corpus/ner/de-wikineural-dev.spacy --gpu-id 0
    - python -m spacy train configs/spancat.cfg --output training/de-wikineural/spancat/
      --paths.vectors de_core_news_lg --nlp.lang de --paths.train corpus/spancat/de-wikineural-train.spacy
      --paths.dev corpus/spancat/de-wikineural-dev.spacy --gpu-id 0
    - python -m spacy train configs/ner.cfg --output training/en-wikineural/ner/ --paths.train
      corpus/ner/en-wikineural-train.spacy --paths.dev corpus/ner/en-wikineural-dev.spacy
      --gpu-id 0
    - python -m spacy train configs/spancat.cfg --output training/en-wikineural/spancat/
      --paths.train corpus/spancat/en-wikineural-train.spacy --paths.dev corpus/spancat/en-wikineural-dev.spacy
      --gpu-id 0
    - python -m spacy download es_core_news_lg
    - python -m spacy train configs/ner.cfg --output training/es-wikineural/ner/ --paths.vectors
      es_core_news_lg --nlp.lang es --paths.train corpus/ner/es-wikineural-train.spacy
      --paths.dev corpus/ner/es-wikineural-dev.spacy --gpu-id 0
    - python -m spacy train configs/spancat.cfg --output training/es-wikineural/spancat/
      --paths.vectors es_core_news_lg --nlp.lang es --paths.train corpus/spancat/es-wikineural-train.spacy
      --paths.dev corpus/spancat/es-wikineural-dev.spacy --gpu-id 0
    - python -m spacy download nl_core_news_lg
    - python -m spacy train configs/ner.cfg --output training/nl-wikineural/ner/ --paths.vectors
      nl_core_news_lg --nlp.lang nl --paths.train corpus/ner/nl-wikineural-train.spacy
      --paths.dev corpus/ner/nl-wikineural-dev.spacy --gpu-id 0
    - python -m spacy train configs/spancat.cfg --output training/nl-wikineural/spancat/
      --paths.vectors nl_core_news_lg --nlp.lang nl --paths.train corpus/spancat/nl-wikineural-train.spacy
      --paths.dev corpus/spancat/nl-wikineural-dev.spacy --gpu-id 0
  deps: []
  outs:
    - path: training/de-wikineural/ner/model-best
      md5: db34bf625b38915cb25db753d6cd957a
    - path: training/en-wikineural/ner/model-best
      md5: cf6e1663641e6d7618ab270e44d54a40
    - path: training/es-wikineural/ner/model-best
      md5: c7d3764f36c1cf55f0093da8eb11c755
    - path: training/nl-wikineural/ner/model-best
      md5: 3564abcece9fcb950593234735696373
    - path: training/de-wikineural/spancat/model-best
      md5: 3c7e280892462b10d94301e477ee9b16
    - path: training/en-wikineural/spancat/model-best
      md5: 7a04c56543ac17442b979dfda8bd09f6
    - path: training/es-wikineural/spancat/model-best
      md5: 0bdbf90642bf9372aa8aad35cb1c559e
    - path: training/nl-wikineural/spancat/model-best
      md5: aa53a809293c03b4ef584a7fb1774f79
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
evaluate-wikineural:
  cmd: python -m spacy run evaluate-wikineural
  script:
    - mkdir -p metrics/en-wikineural/spancat
    - python -m spacy evaluate training/en-wikineural/spancat/model-best corpus/spancat/en-wikineural-test.spacy
      --output metrics/en-wikineural/spancat/scores.json
    - mkdir -p metrics/en-wikineural/ner
    - python -m spacy evaluate training/en-wikineural/ner/model-best corpus/ner/en-wikineural-test.spacy
      --output metrics/en-wikineural/ner/scores.json
    - mkdir -p metrics/es-wikineural/spancat
    - python -m spacy evaluate training/es-wikineural/spancat/model-best corpus/spancat/es-wikineural-test.spacy
      --output metrics/es-wikineural/spancat/scores.json
    - mkdir -p metrics/es-wikineural/ner
    - python -m spacy evaluate training/es-wikineural/ner/model-best corpus/ner/es-wikineural-test.spacy
      --output metrics/es-wikineural/ner/scores.json
    - mkdir -p metrics/nl-wikineural/spancat
    - python -m spacy evaluate training/nl-wikineural/spancat/model-best corpus/spancat/nl-wikineural-test.spacy
      --output metrics/nl-wikineural/spancat/scores.json
    - mkdir -p metrics/nl-wikineural/ner
    - python -m spacy evaluate training/nl-wikineural/ner/model-best corpus/ner/nl-wikineural-test.spacy
      --output metrics/nl-wikineural/ner/scores.json
  deps:
    - path: training/en-wikineural/ner/model-best
      md5: cf6e1663641e6d7618ab270e44d54a40
    - path: training/es-wikineural/ner/model-best
      md5: c7d3764f36c1cf55f0093da8eb11c755
    - path: training/nl-wikineural/ner/model-best
      md5: 3564abcece9fcb950593234735696373
    - path: training/en-wikineural/spancat/model-best
      md5: 7a04c56543ac17442b979dfda8bd09f6
    - path: training/es-wikineural/spancat/model-best
      md5: 0bdbf90642bf9372aa8aad35cb1c559e
    - path: training/nl-wikineural/spancat/model-best
      md5: aa53a809293c03b4ef584a7fb1774f79
    - path: corpus/ner/en-wikineural-test.spacy
      md5: f9891343a1ad0f15fca61c33915226ca
    - path: corpus/ner/es-wikineural-test.spacy
      md5: 7076f1926a9ac934da057740999320f7
    - path: corpus/ner/nl-wikineural-test.spacy
      md5: 9b908ae0e75e3dbd7179ddf8f47ef478
    - path: corpus/spancat/en-wikineural-test.spacy
      md5: 5c9ec598859ce7175cb6e5f77116e499
    - path: corpus/spancat/es-wikineural-test.spacy
      md5: 8ec83ba37c71811554170cbb6353a17e
    - path: corpus/spancat/nl-wikineural-test.spacy
      md5: bcb2fb22ed157144d1b6e5e33745462d
  outs:
    - path: metrics/en-wikineural/ner/scores.json
      md5: 2d8cb0040602ed77fedfddb465116ce4
    - path: metrics/es-wikineural/ner/scores.json
      md5: 1d6e777d83a18af50946d21775f5744e
    - path: metrics/nl-wikineural/ner/scores.json
      md5: f1569054dbec62a13b314d22fc2f270f
    - path: metrics/en-wikineural/spancat/scores.json
      md5: 624a7080b676af88d295f534503b27a0
    - path: metrics/es-wikineural/spancat/scores.json
      md5: 199cf5cec17482f2841fd04b2fa688e2
    - path: metrics/nl-wikineural/spancat/scores.json
      md5: 13355649085dd04e3f377329856e92a5
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
convert-toxic-spans:
  cmd: python -m spacy run convert-toxic-spans
  script:
    - python -m scripts.toxic_spans  assets/toxic_spans.csv corpus/spancat/ --spans-key
      sc --shuffle --seed 42
    - python -m scripts.toxic_spans  assets/toxic_spans.csv corpus/ner/ --use-ents
      --shuffle --seed 42
  deps:
    - path: assets/toxic_spans.csv
      md5: f924dc4e2735535260af4266b1d647a6
  outs:
    - path: corpus/spancat/toxic-spans-train.spacy
      md5: e58371abda4c8e6813770c1793c6fbbd
    - path: corpus/spancat/toxic-spans-dev.spacy
      md5: f36c3faac9c6c6f848dd9a8fe13d1762
    - path: corpus/spancat/toxic-spans-test.spacy
      md5: 9e07ab17de257d9c214cfed877ab9e30
    - path: corpus/ner/toxic-spans-train.spacy
      md5: 07d4a52719d487a72197c2671345f9ac
    - path: corpus/ner/toxic-spans-dev.spacy
      md5: 19d282cb068bbb70274ccc47c0623c65
    - path: corpus/ner/toxic-spans-test.spacy
      md5: 0f963b3469ea99ee55aef454fd4ef90d
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
train-toxic-spans:
  cmd: python -m spacy run train-toxic-spans
  script:
    - python -m spacy train configs/ner.cfg --output training/toxic-spans/ner/ --paths.train
      corpus/ner/toxic-spans-train.spacy --paths.dev corpus/ner/toxic-spans-dev.spacy
      --gpu-id 0
    - python -m spacy train configs/spancat.cfg --output training/toxic-spans/spancat/
      --paths.train corpus/spancat/toxic-spans-train.spacy --paths.dev corpus/spancat/toxic-spans-dev.spacy
      --gpu-id 0
  deps:
    - path: corpus/spancat/toxic-spans-train.spacy
      md5: e58371abda4c8e6813770c1793c6fbbd
    - path: corpus/spancat/toxic-spans-dev.spacy
      md5: f36c3faac9c6c6f848dd9a8fe13d1762
    - path: corpus/ner/toxic-spans-train.spacy
      md5: 07d4a52719d487a72197c2671345f9ac
    - path: corpus/ner/toxic-spans-dev.spacy
      md5: 19d282cb068bbb70274ccc47c0623c65
  outs:
    - path: training/toxic-spans/spancat/model-best
      md5: 09aa3cf45d730409273cdb7eba550b9f
    - path: training/toxic-spans/ner/model-best
      md5: 2ecae7d4ba32bdd8f9f8d00b1ff81e11
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
evaluate-toxic-spans:
  cmd: python -m spacy run evaluate-toxic-spans
  script:
    - mkdir -p metrics/toxic-spans/ner
    - python -m spacy evaluate training/toxic-spans/ner/model-best corpus/ner/toxic-spans-test.spacy
      --output metrics/toxic-spans/ner/scores.json
    - mkdir -p metrics/toxic-spans/spancat
    - python -m spacy evaluate training/toxic-spans/spancat/model-best corpus/spancat/toxic-spans-test.spacy
      --output metrics/toxic-spans/spancat/scores.json
  deps:
    - path: training/toxic-spans/spancat/model-best
      md5: 09aa3cf45d730409273cdb7eba550b9f
    - path: corpus/spancat/toxic-spans-test.spacy
      md5: 9e07ab17de257d9c214cfed877ab9e30
    - path: training/toxic-spans/ner/model-best
      md5: 2ecae7d4ba32bdd8f9f8d00b1ff81e11
    - path: corpus/ner/toxic-spans-test.spacy
      md5: 0f963b3469ea99ee55aef454fd4ef90d
  outs:
    - path: metrics/toxic-spans/ner/scores.json
      md5: 00b4de44ccfe378d79a652c95052ac0c
    - path: metrics/toxic-spans/spancat/scores.json
      md5: a0f4f6fb955112ceac19e569bc597dc2
  spacy_version: 3.2.0
  spacy_git_version: 0fc3dee77
